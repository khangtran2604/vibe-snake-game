@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Jungle Theme (Default) */
    /* Format: R G B (space-separated, no commas) */
    --color-primary: 76 175 80;          /* #4CAF50 */
    --color-primary-dark: 56 142 60;     /* #388E3C */
    --color-secondary: 139 195 74;       /* #8BC34A */
    --color-background: 27 94 32;        /* #1B5E20 */
    --color-surface: 46 125 50;          /* #2E7D32 */
    --color-surface-light: 67 160 71;    /* #43A047 */
    --color-text: 255 255 255;           /* #FFFFFF */
    --color-text-secondary: 200 230 201; /* #C8E6C9 */
    --color-snake: 76 175 80;            /* #4CAF50 */
    --color-snake-head: 102 187 106;     /* #66BB6A */
    --color-food: 244 67 54;             /* #F44336 */
    --color-board: 27 94 32;             /* #1B5E20 */
    --color-board-cell: 46 125 50;       /* #2E7D32 */
  }
}

body {
  @apply bg-background text-white font-game antialiased;
  margin: 0;
  min-height: 100vh;
  overflow-x: hidden;
  max-width: 100vw;
  
  /* Mobile Performance Optimizations */
  /* Prevent pull-to-refresh and overscroll bounce effects on mobile */
  overscroll-behavior-y: none;
  overscroll-behavior-x: none;
  
  /* Remove iOS tap highlight color for cleaner UI */
  -webkit-tap-highlight-color: transparent;
  
  /* Prevent text selection on game elements */
  user-select: none;
  -webkit-user-select: none;
  
  /* Prevent long-press context menu on touch devices */
  -webkit-touch-callout: none;
}

#root {
  max-width: 100vw;
  overflow-x: hidden;
}

/* Safe Area Insets for devices with notches/cutouts (iPhone, Android) */
:root {
  /* Create CSS custom properties that fallback to 0px if not supported */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
}

/* Food pulsing animation for visibility */
@keyframes pulse-food {
  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.15);
    opacity: 0.85;
  }
}

.animate-pulse-food {
  animation: pulse-food 1s ease-in-out infinite;
}

/* Food glow animation for enhanced visual appeal */
@keyframes food-glow {
  0%,
  100% {
    box-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
  }
  50% {
    box-shadow: 0 0 20px currentColor, 0 0 40px currentColor;
  }
}

.animate-food-glow {
  animation: food-glow 1.5s ease-in-out infinite;
}

/* Screen shake animation for game over impact */
@keyframes screen-shake {
  0%,
  100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-4px);
  }
  75% {
    transform: translateX(4px);
  }
}

.animate-screen-shake {
  animation: screen-shake 0.2s ease-in-out;
}

/* Disable all animations for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .animate-pulse-food,
  .animate-food-glow,
  .animate-screen-shake,
  .animate-death-flash {
    animation: none;
  }
}

/* Death flash animation for visual feedback on collision */
@keyframes death-flash {
  0%,
  100% {
    opacity: 1;
  }
  25%,
  75% {
    opacity: 0;
    background-color: rgb(239 68 68);
  }
  50% {
    opacity: 1;
    background-color: rgb(239 68 68);
  }
}

.animate-death-flash {
  animation: death-flash 0.5s ease-out;
}
